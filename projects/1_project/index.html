<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Cross-Platform Transpilation of Packet-Processing Programs using Program Synthesis | Karan Kumar Gangadhar </title> <meta name="author" content="Karan Kumar Gangadhar"> <meta name="description" content="with compiler optimisations and switch hardware constraint handling"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://spielerr.github.io/projects/1_project/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Karan Kumar</span> Gangadhar </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Cross-Platform Transpilation of Packet-Processing Programs using Program Synthesis</h1> <p class="post-description">with compiler optimisations and switch hardware constraint handling</p> </header> <article> <h3 id="abstract">Abstract</h3> <p>The diversity of programmable switch hardware architectures and associated domain-specific languages poses significant challenges for developers who need to implement and test their programs across multiple platforms. This research proposes a novel approach to address this issue by designing and implementing a transpiler that can automatically convert switch programs from one hardware architecture to another, bridging the gap between different programming languages and hardware constraints.</p> <p>The proposed transpiler leverages program synthesis techniques to aid the conversion process. It follows a three-stage pipeline: (1) converting the source program to an intermediate representation (IR), (2) using program synthesis to transform the source IR into the target IR while considering target language constraints and hardware architecture constraints, and (3) converting the target IR to the final program. This approach reduces the need for one-to-one mappings between every language and hardware pair, making the transpilation process more scalable and maintainable.</p> <p>The research focuses on addressing the complexities of the parser stage in switch programs, formulating hardware constraints and using program synthesis to generate target parsers that satisfy these constraints while preserving program semantics. Subsequently, the approach will be extended to handle the pipeline stage of PISA switches, incorporating additional hardware constraints and language-specific constructs.</p> <p>The expected outcomes include an implemented transpiler capable of converting switch programs across hardware architectures, performance metrics and semantic checking of transpiled programs against benchmarks, and a research paper detailing the transpilation approach, implementation, and results. The proposed transpiler will contribute to efficient development and deployment cycles in the networking industry by enabling cross-platform testing and informed design choices.</p> <h3 id="introduction">Introduction</h3> <ul> <li> <p>Motivation: The networking industry is witnessing a rapid proliferation of programmable switch hardware architectures and associated domain-specific languages (DSLs). However, the diversity of these languages and architectures poses significant challenges for developers, who often need to implement and test their switch programs across multiple platforms. This process is time-consuming and error-prone, hindering efficient development and deployment cycles.</p> </li> <li> <p>Problem Statement: This research aims to design and implement a transpiler that can automatically convert switch programs written for one hardware architecture to another, addressing the differences in programming languages and hardware constraints. The transpilation process will be aided by leveraging program synthesis techniques, which can automatically generate target programs that adhere to the specified constraints and semantics.</p> </li> <li> <p>Proposed Approach: The proposed approach involves a three-stage pipeline: (1) converting the source program to an intermediate representation (IR), (2) using program synthesis to transform the source IR into the target IR while considering the target language constraints and hardware architecture constraints, and (3) converting the target IR to the final target program. This approach reduces the need for one-to-one mappings between every language and hardware pair, making the transpilation process more scalable and maintainable.</p> </li> </ul> <h3 id="background-and-literature-review">Background and Literature Review</h3> <ul> <li> <p>Overview of switch programming languages (e.g., NPL, P4) and hardware architectures (e.g., Trident 4, Tofino), their characteristics, and differences.</p> </li> <li> <p>Program synthesis techniques: Provide an in-depth analysis of existing program synthesis approaches, including enumerative synthesis, constraint-based synthesis, and machine learning-based synthesis, highlighting their strengths and limitations in the context of switch program transpilation.</p> </li> <li> <p>Existing work and limitations: Discuss previous efforts in switch program transpilation, if any, and their limitations in addressing the complexities of handling diverse programming languages, hardware constraints, and scalability.</p> </li> </ul> <h3 id="methodology">Methodology</h3> <ul> <li>Three-stage pipeline: <ol> <li>Source program to IR: Develop a parser and converter to translate the source program into a language-agnostic IR representation, capturing the program’s semantics and structure.</li> <li>IR to target IR (using program synthesis): Leverage program synthesis techniques to transform the source IR into the target IR, considering the target language syntax, semantics, and hardware constraints (e.g., bit length comparisons, variable limitations, table entries). Explore and evaluate different synthesis approaches, such as enumerative synthesis, constraint-based synthesis, and machine learning-based synthesis, for their suitability in this context.</li> <li>Target IR to target program: Develop a code generator to convert the target IR into the final target program, adhering to the target language’s syntax and semantics.</li> </ol> </li> </ul> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ir-480.webp 480w,/assets/img/ir-800.webp 800w,/assets/img/ir-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ir.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> 3-stage pipeline </div> <ul> <li> <p>Handling parser complexity: As an initial step, focus on addressing the complexities in the parser stage of switch programs. Identify and formulate hardware constraints relevant to the parser stage, such as maximum bit length comparisons, maximum number of variables that can be compared inside transition statements, and maximum table entries. Use program synthesis techniques to generate target parsers that satisfy these constraints while preserving the original program’s semantics.</p> </li> <li> <p>Extending to pipeline stage: After successfully addressing the parser stage, extend the transpilation approach to handle the complexities of the pipeline stage in switch programs. This stage may involve additional hardware constraints and language-specific constructs, requiring further refinement of the synthesis techniques and IR representations.</p> </li> </ul> <h3 id="expected-outcomes-and-evaluation">Expected Outcomes and Evaluation:</h3> <ul> <li> <p>Implemented transpiler capable of converting switch programs across hardware architectures: Develop a robust and scalable transpiler that can automatically convert switch programs from one target hardware to another, addressing differences in programming languages and hardware constraints.</p> </li> <li> <p>Performance metrics and semantic checking of transpiled programs against benchmarks: Evaluate the transpiled programs using a comprehensive set of benchmarks, measuring performance metrics such as execution time, resource utilization, and correctness. Perform semantic checking to ensure that the transpiled programs preserve the original program’s behavior and semantics.</p> </li> <li> <p>Research paper detailing the transpilation approach, implementation, and results: Publish a research paper in a relevant conference or journal, describing the proposed transpilation approach, implementation details, experimental results, and analysis. The paper will contribute to the body of knowledge in the field of program synthesis and network programming.</p> </li> </ul> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Karan Kumar Gangadhar. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>